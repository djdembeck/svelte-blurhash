var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n,e,r){return t[1]&&r?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](r(n))):e.ctx}function s(t,n,e,r,o,i,s){const u=function(t,n,e,r){if(t[2]&&r){const o=t[2](r(e));if(void 0===n.dirty)return o;if("object"==typeof o){const t=[],e=Math.max(n.dirty.length,o.length);for(let r=0;r<e;r+=1)t[r]=n.dirty[r]|o[r];return t}return n.dirty|o}return n.dirty}(n,r,o,i);if(u){const o=a(n,e,r,s);t.p(o,u)}}function u(t,n){t.appendChild(n)}function c(t,n,e){t.insertBefore(n,e||null)}function h(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function p(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t,n,e,r){t.style.setProperty(n,e,r?"important":"")}let m;function $(t){m=t}function w(){if(!m)throw new Error("Function called outside component initialization");return m}function v(t){w().$$.on_mount.push(t)}function y(){const t=w();return(n,e)=>{const r=t.$$.callbacks[n];if(r){const o=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);r.slice().forEach(n=>{n.call(t,o)})}}}const b=[],M=[],x=[],_=[],B=Promise.resolve();let P=!1;function R(t){x.push(t)}let T=!1;const E=new Set;function j(){if(!T){T=!0;do{for(let t=0;t<b.length;t+=1){const n=b[t];$(n),O(n.$$)}for($(null),b.length=0;M.length;)M.pop()();for(let t=0;t<x.length;t+=1){const n=x[t];E.has(n)||(E.add(n),n())}x.length=0}while(b.length);for(;_.length;)_.pop()();P=!1,T=!1,E.clear()}}function O(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(R)}}const V=new Set;let D;function G(){D={r:0,c:[],p:D}}function L(){D.r||r(D.c),D=D.p}function k(t,n){t&&t.i&&(V.delete(t),t.i(n))}function A(t,n,e,r){if(t&&t.o){if(V.has(t))return;V.add(t),D.c.push(()=>{V.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function I(t){t&&t.c()}function C(t,e,i,a){const{fragment:s,on_mount:u,on_destroy:c,after_update:h}=t.$$;s&&s.m(e,i),a||R(()=>{const e=u.map(n).filter(o);c?c.push(...e):r(e),t.$$.on_mount=[]}),h.forEach(R)}function Y(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function H(t,n){-1===t.$$.dirty[0]&&(b.push(t),P||(P=!0,B.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function N(n,o,i,a,s,u,c=[-1]){const l=m;$(n);const f=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:e(),dirty:c,skip_bound:!1};let d=!1;if(f.ctx=i?i(n,o.props||{},(t,e,...r)=>{const o=r.length?r[0]:e;return f.ctx&&s(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),d&&H(n,t)),e}):[],f.update(),d=!0,r(f.before_update),f.fragment=!!a&&a(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(h)}else f.fragment&&f.fragment.c();o.intro&&k(n.$$.fragment),C(n,o.target,o.anchor,o.customElement),j()}$(l)}class X{$destroy(){Y(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const z=t=>({visible:4&t,hasBeenVisible:2&t}),F=t=>({visible:t[2],hasBeenVisible:t[1]});function J(t){let n,e;const r=t[5].default,o=function(t,n,e,r){if(t){const o=a(t,n,e,r);return t[0](o)}}(r,t,t[4],F);return{c(){n=l("div"),o&&o.c()},m(r,i){c(r,n,i),o&&o.m(n,null),t[6](n),e=!0},p(t,[n]){o&&o.p&&22&n&&s(o,r,t,t[4],n,z,F)},i(t){e||(k(o,t),e=!0)},o(t){A(o,t),e=!1},d(e){e&&h(n),o&&o.d(e),t[6](null)}}}function S(t,n,e){let{$$slots:r={},$$scope:o}=n,i=null,a=!1,s=!1,u=null;return v(()=>(e(3,u=new IntersectionObserver(t=>{e(2,a=t[0].isIntersecting),e(1,s=s||a)},{rootMargin:"0px 0px 200px 0px"})),u.observe(i),()=>{s||u.unobserve(i)})),t.$$set=t=>{"$$scope"in t&&e(4,o=t.$$scope)},t.$$.update=()=>{11&t.$$.dirty&&s&&u.unobserve(i)},[i,s,a,u,o,r,function(t){M[t?"unshift":"push"](()=>{i=t,e(0,i)})}]}class U extends X{constructor(t){super(),N(this,t,S,J,i,{})}}var W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function q(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function K(t,n){return t(n={exports:{}},n.exports),n.exports}var Q=K((function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"];n.decode83=function(t){for(var n=0,r=0;r<t.length;r++){var o=t[r];n=83*n+e.indexOf(o)}return n},n.encode83=function(t,n){for(var r="",o=1;o<=n;o++){var i=Math.floor(t)/Math.pow(83,n-o)%83;r+=e[Math.floor(i)]}return r}}));q(Q);Q.decode83,Q.encode83;var Z=K((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sRGBToLinear=function(t){var n=t/255;return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)},n.linearTosRGB=function(t){var n=Math.max(0,Math.min(1,t));return n<=.0031308?Math.round(12.92*n*255+.5):Math.round(255*(1.055*Math.pow(n,1/2.4)-.055)+.5)},n.sign=function(t){return t<0?-1:1},n.signPow=function(t,e){return n.sign(t)*Math.pow(Math.abs(t),e)}}));q(Z);Z.sRGBToLinear,Z.linearTosRGB,Z.sign,Z.signPow;var tt=K((function(t,n){var e,r=W&&W.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function n(n){var e=t.call(this,n)||this;return e.name="ValidationError",e.message=n,e}return r(n,t),n}(Error);n.ValidationError=o}));q(tt);tt.ValidationError;var nt=K((function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e=function(t){if(!t||t.length<6)throw new tt.ValidationError("The blurhash string must be at least 6 characters");var n=Q.decode83(t[0]),e=Math.floor(n/9)+1,r=n%9+1;if(t.length!==4+2*r*e)throw new tt.ValidationError("blurhash length mismatch: length is "+t.length+" but it should be "+(4+2*r*e))};n.isBlurhashValid=function(t){try{e(t)}catch(t){return{result:!1,errorReason:t.message}}return{result:!0}};var r=function(t){var n=t>>16,e=t>>8&255,r=255&t;return[Z.sRGBToLinear(n),Z.sRGBToLinear(e),Z.sRGBToLinear(r)]},o=function(t,n){var e=Math.floor(t/361),r=Math.floor(t/19)%19,o=t%19;return[Z.signPow((e-9)/9,2)*n,Z.signPow((r-9)/9,2)*n,Z.signPow((o-9)/9,2)*n]};n.default=function(t,n,i,a){e(t),a|=1;for(var s=Q.decode83(t[0]),u=Math.floor(s/9)+1,c=s%9+1,h=(Q.decode83(t[1])+1)/166,l=new Array(c*u),f=0;f<l.length;f++)if(0===f){var d=Q.decode83(t.substring(2,6));l[f]=r(d)}else{d=Q.decode83(t.substring(4+2*f,6+2*f));l[f]=o(d,h*a)}for(var p=4*n,g=new Uint8ClampedArray(p*i),m=0;m<i;m++)for(var $=0;$<n;$++){for(var w=0,v=0,y=0,b=0;b<u;b++)for(f=0;f<c;f++){var M=Math.cos(Math.PI*$*f/n)*Math.cos(Math.PI*m*b/i),x=l[f+b*c];w+=x[0]*M,v+=x[1]*M,y+=x[2]*M}var _=Z.linearTosRGB(w),B=Z.linearTosRGB(v),P=Z.linearTosRGB(y);g[4*$+0+m*p]=_,g[4*$+1+m*p]=B,g[4*$+2+m*p]=P,g[4*$+3+m*p]=255}return g}}));q(nt);nt.isBlurhashValid;var et=K((function(t,n){Object.defineProperty(n,"__esModule",{value:!0});n.default=function(t,n,e,r,o){if(r<1||r>9||o<1||o>9)throw new tt.ValidationError("BlurHash must have between 1 and 9 components");if(n*e*4!==t.length)throw new tt.ValidationError("Width and height must match the pixels array");for(var i=[],a=function(o){for(var a=function(r){var a=0==r&&0==o?1:2,s=function(t,n,e,r){for(var o=0,i=0,a=0,s=4*n,u=0;u<n;u++)for(var c=0;c<e;c++){var h=r(u,c);o+=h*Z.sRGBToLinear(t[4*u+0+c*s]),i+=h*Z.sRGBToLinear(t[4*u+1+c*s]),a+=h*Z.sRGBToLinear(t[4*u+2+c*s])}var l=1/(n*e);return[o*l,i*l,a*l]}(t,n,e,(function(t,i){return a*Math.cos(Math.PI*r*t/n)*Math.cos(Math.PI*o*i/e)}));i.push(s)},s=0;s<r;s++)a(s)},s=0;s<o;s++)a(s);var u,c,h=i[0],l=i.slice(1),f="",d=r-1+9*(o-1);if(f+=Q.encode83(d,1),l.length>0){var p=Math.max.apply(Math,l.map((function(t){return Math.max.apply(Math,t)}))),g=Math.floor(Math.max(0,Math.min(82,Math.floor(166*p-.5))));u=(g+1)/166,f+=Q.encode83(g,1)}else u=1,f+=Q.encode83(0,1);return f+=Q.encode83((c=h,(Z.linearTosRGB(c[0])<<16)+(Z.linearTosRGB(c[1])<<8)+Z.linearTosRGB(c[2])),4),l.forEach((function(t){f+=Q.encode83(function(t,n){return 19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*Z.signPow(t[0]/n,.5)+9.5))))*19+19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*Z.signPow(t[1]/n,.5)+9.5))))+Math.floor(Math.max(0,Math.min(18,Math.floor(9*Z.signPow(t[2]/n,.5)+9.5))))}(t,u),2)})),f}}));q(et);var rt=K((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.decode=nt.default,n.isBlurhashValid=nt.isBlurhashValid,n.encode=et.default,function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(tt)}));q(rt);var ot=rt.decode;rt.isBlurhashValid,rt.encode;function it(n){let e,r;return{c(){e=l("div"),r=l("canvas"),p(r,"width",n[2]),p(r,"height",n[3]),g(r,"width","100%"),g(r,"height","100%"),g(e,"width",n[0]+"px"),g(e,"height",n[1]+"px")},m(t,o){c(t,e,o),u(e,r),n[7](r)},p(t,[n]){4&n&&p(r,"width",t[2]),8&n&&p(r,"height",t[3]),1&n&&g(e,"width",t[0]+"px"),2&n&&g(e,"height",t[1]+"px")},i:t,o:t,d(t){t&&h(e),n[7](null)}}}function at(t,n,e){let r,{hash:o}=n,{width:i=100}=n,{height:a=100}=n,{resolutionX:s=16}=n,{resolutionY:u=16}=n,{punch:c=1}=n;return v(()=>{if(o&&r){const t=ot(o,s,u,c),n=r.getContext("2d"),e=n.createImageData(s,u);e.data.set(t),n.putImageData(e,0,0)}}),t.$$set=t=>{"hash"in t&&e(5,o=t.hash),"width"in t&&e(0,i=t.width),"height"in t&&e(1,a=t.height),"resolutionX"in t&&e(2,s=t.resolutionX),"resolutionY"in t&&e(3,u=t.resolutionY),"punch"in t&&e(6,c=t.punch)},[i,a,s,u,r,o,c,function(t){M[t?"unshift":"push"](()=>{r=t,e(4,r)})}]}class st extends X{constructor(t){super(),N(this,t,at,it,i,{hash:5,width:0,height:1,resolutionX:2,resolutionY:3,punch:6})}}function ut(n){let e,r;return{c(){e=l("img"),e.src!==(r=n[0])&&p(e,"src",r),p(e,"alt",n[1]),p(e,"width",n[2]),p(e,"height",n[3]),g(e,"position","absolute"),g(e,"top","0"),g(e,"left","0"),g(e,"opacity","0"),g(e,"transition","opacity "+n[4]+"ms"),p(e,"loading","lazy"),p(e,"decoding","async")},m(t,r){c(t,e,r),n[6](e)},p(t,[n]){1&n&&e.src!==(r=t[0])&&p(e,"src",r),2&n&&p(e,"alt",t[1]),4&n&&p(e,"width",t[2]),8&n&&p(e,"height",t[3]),16&n&&g(e,"transition","opacity "+t[4]+"ms")},i:t,o:t,d(t){t&&h(e),n[6](null)}}}function ct(t,n,e){const r=y();let o,{src:i}=n,{alt:a}=n,{width:s}=n,{height:u}=n,{fadeDuration:c=500}=n;return v(()=>{e(5,o.onload=()=>{e(5,o.style.opacity=1,o),r("imageLoaded",{fadeDuration:c})},o)}),t.$$set=t=>{"src"in t&&e(0,i=t.src),"alt"in t&&e(1,a=t.alt),"width"in t&&e(2,s=t.width),"height"in t&&e(3,u=t.height),"fadeDuration"in t&&e(4,c=t.fadeDuration)},[i,a,s,u,c,o,function(t){M[t?"unshift":"push"](()=>{o=t,e(5,o)})}]}class ht extends X{constructor(t){super(),N(this,t,ct,ut,i,{src:0,alt:1,width:2,height:3,fadeDuration:4})}}function lt(t){let n,e,r,o,i,a;const s=[dt,ft],f=[];function p(t,n){return t[6]?1:0}return e=p(t),r=f[e]=s[e](t),i=new ht({props:{src:t[0],alt:t[4],width:t[2],height:t[3],fadeDuration:t[5]}}),i.$on("imageLoaded",t[7]),{c(){n=l("div"),r.c(),o=d(),I(i.$$.fragment),g(n,"position","relative")},m(t,r){c(t,n,r),f[e].m(n,null),u(n,o),C(i,n,null),a=!0},p(t,a){let u=e;e=p(t),e===u?f[e].p(t,a):(G(),A(f[u],1,1,()=>{f[u]=null}),L(),r=f[e],r?r.p(t,a):(r=f[e]=s[e](t),r.c()),k(r,1),r.m(n,o));const c={};1&a&&(c.src=t[0]),16&a&&(c.alt=t[4]),4&a&&(c.width=t[2]),8&a&&(c.height=t[3]),32&a&&(c.fadeDuration=t[5]),i.$set(c)},i(t){a||(k(r),k(i.$$.fragment,t),a=!0)},o(t){A(r),A(i.$$.fragment,t),a=!1},d(t){t&&h(n),f[e].d(),Y(i)}}}function ft(n){let e;return{c(){e=l("div"),g(e,"width",n[2]+"px"),g(e,"height",n[3]+"px")},m(t,n){c(t,e,n)},p(t,n){4&n&&g(e,"width",t[2]+"px"),8&n&&g(e,"height",t[3]+"px")},i:t,o:t,d(t){t&&h(e)}}}function dt(t){let n,e;return n=new st({props:{hash:t[1],width:t[2],height:t[3]}}),{c(){I(n.$$.fragment)},m(t,r){C(n,t,r),e=!0},p(t,e){const r={};2&e&&(r.hash=t[1]),4&e&&(r.width=t[2]),8&e&&(r.height=t[3]),n.$set(r)},i(t){e||(k(n.$$.fragment,t),e=!0)},o(t){A(n.$$.fragment,t),e=!1},d(t){Y(n,t)}}}function pt(t){let n,e,r=t[9]&&lt(t);return{c(){r&&r.c(),n=f("")},m(t,o){r&&r.m(t,o),c(t,n,o),e=!0},p(t,e){t[9]?r?(r.p(t,e),512&e&&k(r,1)):(r=lt(t),r.c(),k(r,1),r.m(n.parentNode,n)):r&&(G(),A(r,1,1,()=>{r=null}),L())},i(t){e||(k(r),e=!0)},o(t){A(r),e=!1},d(t){r&&r.d(t),t&&h(n)}}}function gt(t){let n,e;return n=new U({props:{$$slots:{default:[pt,({hasBeenVisible:t})=>({9:t}),({hasBeenVisible:t})=>t?512:0]},$$scope:{ctx:t}}}),{c(){I(n.$$.fragment)},m(t,r){C(n,t,r),e=!0},p(t,[e]){const r={};1663&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(k(n.$$.fragment,t),e=!0)},o(t){A(n.$$.fragment,t),e=!1},d(t){Y(n,t)}}}function mt(t,n,e){let{src:r="#"}=n,{hash:o}=n,{width:i}=n,{height:a}=n,{alt:s=""}=n,{fadeDuration:u=500}=n,c=!1;function h(){e(6,c=!0)}return t.$$set=t=>{"src"in t&&e(0,r=t.src),"hash"in t&&e(1,o=t.hash),"width"in t&&e(2,i=t.width),"height"in t&&e(3,a=t.height),"alt"in t&&e(4,s=t.alt),"fadeDuration"in t&&e(5,u=t.fadeDuration)},[r,o,i,a,s,u,c,function(t){setTimeout(h,t.detail.fadeDuration+100)}]}class $t extends X{constructor(t){super(),N(this,t,mt,gt,i,{src:0,hash:1,width:2,height:3,alt:4,fadeDuration:5})}}function wt(n){let e,r,o,i,a,s,f,p,g,m,$;return r=new $t({props:{src:"https://blurha.sh/assets/images/img1.jpg",hash:"LEHV6nWB2yk8pyoJadR*.7kCMdnj",width:320,height:206,fadeDuration:200}}),i=new $t({props:{src:"https://blurha.sh/assets/images/img2.jpg",hash:"LGF5]+Yk^6#M@-5c,1J5@[or[Q6.",width:320,height:206}}),s=new $t({props:{src:"https://blurha.sh/assets/images/img3.jpg",hash:"L6Pj0^i_.AyE_3t7t7R**0o#DgR4",width:320,height:206}}),p=new $t({props:{src:"https://blurha.sh/assets/images/img4.jpg",hash:"LKO2?U%2Tw=w]~RBVZRi};RPxuwH",width:320,height:206,fadeDuration:2e3}}),{c(){e=l("div"),I(r.$$.fragment),o=d(),I(i.$$.fragment),a=d(),I(s.$$.fragment),f=d(),I(p.$$.fragment),g=d(),m=l("div"),m.innerHTML='<a href="https://github.com/h416/svelte-blurhash/tree/master/example">source</a>'},m(t,n){c(t,e,n),C(r,e,null),u(e,o),C(i,e,null),u(e,a),C(s,e,null),u(e,f),C(p,e,null),c(t,g,n),c(t,m,n),$=!0},p:t,i(t){$||(k(r.$$.fragment,t),k(i.$$.fragment,t),k(s.$$.fragment,t),k(p.$$.fragment,t),$=!0)},o(t){A(r.$$.fragment,t),A(i.$$.fragment,t),A(s.$$.fragment,t),A(p.$$.fragment,t),$=!1},d(t){t&&h(e),Y(r),Y(i),Y(s),Y(p),t&&h(g),t&&h(m)}}}return new class extends X{constructor(t){super(),N(this,t,null,wt,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
