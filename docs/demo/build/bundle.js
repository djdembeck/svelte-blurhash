var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}const u="undefined"!=typeof window;let c=u?()=>window.performance.now():()=>Date.now(),l=u?t=>requestAnimationFrame(t):t;const h=new Set;function f(t){h.forEach(e=>{e.c(t)||(h.delete(e),e.f())}),0!==h.size&&l(f)}function d(t){let e;return 0===h.size&&l(f),{promise:new Promise(n=>{h.add(e={c:t,f:n})}),abort(){h.delete(e)}}}function p(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function y(){return v(" ")}function w(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function M(t,e,n){t.classList[n?"add":"remove"](e)}const x=new Set;let B,P=0;function R(t,e,n,r,o,i,a,s=0){const u=16.666/r;let c="{\n";for(let t=0;t<=1;t+=u){const r=e+(n-e)*i(t);c+=100*t+`%{${a(r,1-r)}}\n`}const l=c+`100% {${a(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${s}`,f=t.ownerDocument;x.add(f);const d=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild($("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${l}`,d.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?g+", ":""}${h} ${r}ms linear ${o}ms 1 both`,P+=1,h}function E(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),P-=o,P||l(()=>{P||(x.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),x.clear())}))}function T(t){B=t}function O(t){(function(){if(!B)throw new Error("Function called outside component initialization");return B})().$$.on_mount.push(t)}const j=[],D=[],V=[],G=[],L=Promise.resolve();let A=!1;function k(t){V.push(t)}let C=!1;const I=new Set;function S(){if(!C){C=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];T(e),Y(e.$$)}for(j.length=0;D.length;)D.pop()();for(let t=0;t<V.length;t+=1){const e=V[t];I.has(e)||(I.add(e),e())}V.length=0}while(j.length);for(;G.length;)G.pop()();A=!1,C=!1,I.clear()}}function Y(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(k)}}let H;function N(){return H||(H=Promise.resolve(),H.then(()=>{H=null})),H}function X(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const z=new Set;let F;function q(t,e){t&&t.i&&(z.delete(t),t.i(e))}function J(t,e,n,r){if(t&&t.o){if(z.has(t))return;z.add(t),F.c.push(()=>{z.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}const U={duration:0};function W(t){t&&t.c()}function K(t,e,r){const{fragment:a,on_mount:s,on_destroy:u,after_update:c}=t.$$;a&&a.m(e,r),k(()=>{const e=s.map(n).filter(i);u?u.push(...e):o(e),t.$$.on_mount=[]}),c.forEach(k)}function Q(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(t,e){-1===t.$$.dirty[0]&&(j.push(t),A||(A=!0,L.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function tt(e,n,i,a,s,u,c=[-1]){const l=B;T(e);const h=n.props||{},f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:r(),dirty:c};let d=!1;if(f.ctx=i?i(e,h,(t,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=o)&&(f.bound[t]&&f.bound[t](o),d&&Z(e,t)),n}):[],f.update(),d=!0,o(f.before_update),f.fragment=!!a&&a(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(m)}else f.fragment&&f.fragment.c();n.intro&&q(e.$$.fragment),K(e,n.target,n.anchor),S()}T(l)}class et{$destroy(){Q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const nt=t=>({visible:2&t,hasBeenVisible:4&t}),rt=t=>({visible:t[1],hasBeenVisible:t[2]});function ot(t){let e,n;const r=t[5].default,o=function(t,e,n,r){if(t){const o=s(t,e,n,r);return t[0](o)}}(r,t,t[4],rt);return{c(){e=$("div"),o&&o.c(),b(e,"position","relative")},m(r,i){g(r,e,i),o&&o.m(e,null),t[6](e),n=!0},p(t,[e]){o&&o.p&&22&e&&o.p(s(r,t,t[4],rt),function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(r,t[4],e,nt))},i(t){n||(q(o,t),n=!0)},o(t){J(o,t),n=!1},d(n){n&&m(e),o&&o.d(n),t[6](null)}}}function it(t,e,n){let r=null,o=!1,i=!1,a=null;O(()=>(n(3,a=new IntersectionObserver(t=>{n(1,o=t[0].isIntersecting),n(2,i=i||o)},{rootMargin:"0px 0px 200px 0px"})),a.observe(r),()=>{i||a.unobserve(r)}));let{$$slots:s={},$$scope:u}=e;return t.$set=t=>{"$$scope"in t&&n(4,u=t.$$scope)},t.$$.update=()=>{13&t.$$.dirty&&i&&a.unobserve(r)},[r,o,i,a,u,s,function(t){D[t?"unshift":"push"](()=>{n(0,r=t)})}]}class at extends et{constructor(t){super(),tt(this,t,it,ot,a,{})}}var st="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ut(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ct(t,e){return t(e={exports:{}},e.exports),e.exports}var lt=ct((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"];e.decode83=function(t){for(var e=0,r=0;r<t.length;r++){var o=t[r];e=83*e+n.indexOf(o)}return e},e.encode83=function(t,e){for(var r="",o=1;o<=e;o++){var i=Math.floor(t)/Math.pow(83,e-o)%83;r+=n[Math.floor(i)]}return r}}));ut(lt);lt.decode83,lt.encode83;var ht=ct((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.sRGBToLinear=function(t){var e=t/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},e.linearTosRGB=function(t){var e=Math.max(0,Math.min(1,t));return e<=.0031308?Math.round(12.92*e*255+.5):Math.round(255*(1.055*Math.pow(e,1/2.4)-.055)+.5)},e.sign=function(t){return t<0?-1:1},e.signPow=function(t,n){return e.sign(t)*Math.pow(Math.abs(t),n)}}));ut(ht);ht.sRGBToLinear,ht.linearTosRGB,ht.sign,ht.signPow;var ft=ct((function(t,e){var n,r=st&&st.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.name="ValidationError",n.message=e,n}return r(e,t),e}(Error);e.ValidationError=o}));ut(ft);ft.ValidationError;var dt=ct((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){if(!t||t.length<6)throw new ft.ValidationError("The blurhash string must be at least 6 characters");var e=lt.decode83(t[0]),n=Math.floor(e/9)+1,r=e%9+1;if(t.length!==4+2*r*n)throw new ft.ValidationError("blurhash length mismatch: length is "+t.length+" but it should be "+(4+2*r*n))};e.isBlurhashValid=function(t){try{n(t)}catch(t){return{result:!1,errorReason:t.message}}return{result:!0}};var r=function(t){var e=t>>16,n=t>>8&255,r=255&t;return[ht.sRGBToLinear(e),ht.sRGBToLinear(n),ht.sRGBToLinear(r)]},o=function(t,e){var n=Math.floor(t/361),r=Math.floor(t/19)%19,o=t%19;return[ht.signPow((n-9)/9,2)*e,ht.signPow((r-9)/9,2)*e,ht.signPow((o-9)/9,2)*e]};e.default=function(t,e,i,a){n(t),a|=1;for(var s=lt.decode83(t[0]),u=Math.floor(s/9)+1,c=s%9+1,l=(lt.decode83(t[1])+1)/166,h=new Array(c*u),f=0;f<h.length;f++)if(0===f){var d=lt.decode83(t.substring(2,6));h[f]=r(d)}else{d=lt.decode83(t.substring(4+2*f,6+2*f));h[f]=o(d,l*a)}for(var p=4*e,g=new Uint8ClampedArray(p*i),m=0;m<i;m++)for(var $=0;$<e;$++){for(var v=0,y=0,w=0,_=0;_<u;_++)for(f=0;f<c;f++){var b=Math.cos(Math.PI*$*f/e)*Math.cos(Math.PI*m*_/i),M=h[f+_*c];v+=M[0]*b,y+=M[1]*b,w+=M[2]*b}var x=ht.linearTosRGB(v),B=ht.linearTosRGB(y),P=ht.linearTosRGB(w);g[4*$+0+m*p]=x,g[4*$+1+m*p]=B,g[4*$+2+m*p]=P,g[4*$+3+m*p]=255}return g}}));ut(dt);dt.isBlurhashValid;var pt=ct((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n,r,o){if(r<1||r>9||o<1||o>9)throw new ft.ValidationError("BlurHash must have between 1 and 9 components");if(e*n*4!==t.length)throw new ft.ValidationError("Width and height must match the pixels array");for(var i=[],a=function(o){for(var a=function(r){var a=0==r&&0==o?1:2,s=function(t,e,n,r){for(var o=0,i=0,a=0,s=4*e,u=0;u<e;u++)for(var c=0;c<n;c++){var l=r(u,c);o+=l*ht.sRGBToLinear(t[4*u+0+c*s]),i+=l*ht.sRGBToLinear(t[4*u+1+c*s]),a+=l*ht.sRGBToLinear(t[4*u+2+c*s])}var h=1/(e*n);return[o*h,i*h,a*h]}(t,e,n,(function(t,i){return a*Math.cos(Math.PI*r*t/e)*Math.cos(Math.PI*o*i/n)}));i.push(s)},s=0;s<r;s++)a(s)},s=0;s<o;s++)a(s);var u,c,l=i[0],h=i.slice(1),f="",d=r-1+9*(o-1);if(f+=lt.encode83(d,1),h.length>0){var p=Math.max.apply(Math,h.map((function(t){return Math.max.apply(Math,t)}))),g=Math.floor(Math.max(0,Math.min(82,Math.floor(166*p-.5))));u=(g+1)/166,f+=lt.encode83(g,1)}else u=1,f+=lt.encode83(0,1);return f+=lt.encode83((c=l,(ht.linearTosRGB(c[0])<<16)+(ht.linearTosRGB(c[1])<<8)+ht.linearTosRGB(c[2])),4),h.forEach((function(t){f+=lt.encode83(function(t,e){return 19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*ht.signPow(t[0]/e,.5)+9.5))))*19+19*Math.floor(Math.max(0,Math.min(18,Math.floor(9*ht.signPow(t[1]/e,.5)+9.5))))+Math.floor(Math.max(0,Math.min(18,Math.floor(9*ht.signPow(t[2]/e,.5)+9.5))))}(t,u),2)})),f}}));ut(pt);var gt=ct((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.decode=dt.default,e.isBlurhashValid=dt.isBlurhashValid,e.encode=pt.default,function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(ft)}));ut(gt);var mt=gt.decode;gt.isBlurhashValid,gt.encode;function $t(e){let n,r;return{c(){n=$("div"),r=$("canvas"),_(r,"width",e[2]),_(r,"height",e[3]),b(r,"width","100%"),b(r,"height","100%"),b(n,"width",e[0]+"px"),b(n,"height",e[1]+"px")},m(t,o){g(t,n,o),p(n,r),e[7](r)},p(t,[e]){4&e&&_(r,"width",t[2]),8&e&&_(r,"height",t[3]),1&e&&b(n,"width",t[0]+"px"),2&e&&b(n,"height",t[1]+"px")},i:t,o:t,d(t){t&&m(n),e[7](null)}}}function vt(t,e,n){let r,{hash:o}=e,{width:i=100}=e,{height:a=100}=e,{resolutionX:s=16}=e,{resolutionY:u=16}=e,{punch:c=1}=e;return O(()=>{if(o&&r){const t=mt(o,s,u,c),e=r.getContext("2d"),n=e.createImageData(s,u);n.data.set(t),e.putImageData(n,0,0)}}),t.$set=t=>{"hash"in t&&n(5,o=t.hash),"width"in t&&n(0,i=t.width),"height"in t&&n(1,a=t.height),"resolutionX"in t&&n(2,s=t.resolutionX),"resolutionY"in t&&n(3,u=t.resolutionY),"punch"in t&&n(6,c=t.punch)},[i,a,s,u,r,o,c,function(t){D[t?"unshift":"push"](()=>{n(4,r=t)})}]}class yt extends et{constructor(t){super(),tt(this,t,vt,$t,a,{hash:5,width:0,height:1,resolutionX:2,resolutionY:3,punch:6})}}function wt(t,{delay:n=0,duration:r=400,easing:o=e}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*i}}function _t(n){let r,a,s,u;const l=new yt({props:{hash:n[1],width:n[2],height:n[3]}});return{c(){r=$("div"),W(l.$$.fragment)},m(t,e,i){g(t,r,e),K(l,r,null),s=!0,i&&o(u),u=[w(r,"outrostart",n[9]),w(r,"outroend",n[10])]},p(t,e){const n={};2&e&&(n.hash=t[1]),4&e&&(n.width=t[2]),8&e&&(n.height=t[3]),l.$set(n)},i(t){s||(q(l.$$.fragment,t),a&&a.end(1),s=!0)},o(u){J(l.$$.fragment,u),a=function(n,r,a){let s,u=r(n,a),l=!0;const h=F;function f(){const{delay:r=0,duration:i=300,easing:a=e,tick:f=t,css:p}=u||U;p&&(s=R(n,1,0,i,r,a,p));const g=c()+r,m=g+i;k(()=>X(n,!1,"start")),d(t=>{if(l){if(t>=m)return f(0,1),X(n,!1,"end"),--h.r||o(h.c),!1;if(t>=g){const e=a((t-g)/i);f(1-e,e)}}return l})}return h.r+=1,i(u)?N().then(()=>{u=u(),f()}):f(),{end(t){t&&u.tick&&u.tick(1,0),l&&(s&&E(n,s),l=!1)}}}(r,wt,{delay:n[5],duration:n[6]}),s=!1},d(t){t&&m(r),Q(l),t&&a&&a.end(),o(u)}}}function bt(n){let r,o,a;return{c(){r=$("img"),r.src!==(o=n[0])&&_(r,"src",o),_(r,"alt",n[4]),_(r,"width",n[2]),_(r,"height",n[3]),_(r,"class","svelte-1ww9yah"),M(r,"isAbsolute",n[7]),M(r,"isStatic",n[8])},m(t,e){g(t,r,e)},p(t,e){1&e&&r.src!==(o=t[0])&&_(r,"src",o),16&e&&_(r,"alt",t[4]),4&e&&_(r,"width",t[2]),8&e&&_(r,"height",t[3]),128&e&&M(r,"isAbsolute",t[7]),256&e&&M(r,"isStatic",t[8])},i(o){a||k(()=>{a=function(n,r,o){let a,s,u=r(n,o),l=!1,h=0;function f(){a&&E(n,a)}function p(){const{delay:r=0,duration:o=300,easing:i=e,tick:p=t,css:g}=u||U;g&&(a=R(n,0,1,o,r,i,g,h++)),p(0,1);const m=c()+r,$=m+o;s&&s.abort(),l=!0,k(()=>X(n,!0,"start")),s=d(t=>{if(l){if(t>=$)return p(1,0),X(n,!0,"end"),f(),l=!1;if(t>=m){const e=i((t-m)/o);p(e,1-e)}}return l})}let g=!1;return{start(){g||(E(n),i(u)?(u=u(),N().then(p)):p())},invalidate(){g=!1},end(){l&&(f(),l=!1)}}}(r,wt,{delay:n[5],duration:n[6]}),a.start()})},o:t,d(t){t&&m(r)}}}function Mt(t){let e,n,r,i;const a=[bt,_t],s=[];function u(t,e){return t[11]?0:1}return e=u(t),n=s[e]=a[e](t),{c(){n.c(),r=v("")},m(t,n){s[e].m(t,n),g(t,r,n),i=!0},p(t,i){let c=e;e=u(t),e===c?s[e].p(t,i):(F={r:0,c:[],p:F},J(s[c],1,1,()=>{s[c]=null}),F.r||o(F.c),F=F.p,n=s[e],n||(n=s[e]=a[e](t),n.c()),q(n,1),n.m(r.parentNode,r))},i(t){i||(q(n),i=!0)},o(t){J(n),i=!1},d(t){s[e].d(t),t&&m(r)}}}function xt(t){let e;const n=new at({props:{$$slots:{default:[Mt,({hasBeenVisible:t})=>({11:t}),({hasBeenVisible:t})=>t?2048:0]},$$scope:{ctx:t}}});return{c(){W(n.$$.fragment)},m(t,r){K(n,t,r),e=!0},p(t,[e]){const r={};6559&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(q(n.$$.fragment,t),e=!0)},o(t){J(n.$$.fragment,t),e=!1},d(t){Q(n,t)}}}function Bt(t,e,n){let{src:r="#"}=e,{hash:o}=e,{width:i}=e,{height:a}=e,{alt:s=""}=e,{fadeDelay:u=200}=e,{fadeDuration:c=500}=e,l=!1,h=!1;return t.$set=t=>{"src"in t&&n(0,r=t.src),"hash"in t&&n(1,o=t.hash),"width"in t&&n(2,i=t.width),"height"in t&&n(3,a=t.height),"alt"in t&&n(4,s=t.alt),"fadeDelay"in t&&n(5,u=t.fadeDelay),"fadeDuration"in t&&n(6,c=t.fadeDuration)},[r,o,i,a,s,u,c,l,h,function(){n(7,l=!0),n(8,h=!1)},function(){n(7,l=!1),n(8,h=!0)}]}class Pt extends et{constructor(t){super(),tt(this,t,Bt,xt,a,{src:0,hash:1,width:2,height:3,alt:4,fadeDelay:5,fadeDuration:6})}}function Rt(e){let n,r,o,i,a,s,u;const c=new Pt({props:{src:"https://blurha.sh/assets/images/img1.jpg",hash:"LEHV6nWB2yk8pyoJadR*.7kCMdnj",width:320,height:206}}),l=new Pt({props:{src:"https://blurha.sh/assets/images/img2.jpg",hash:"LGF5]+Yk^6#M@-5c,1J5@[or[Q6.",width:320,height:206,fadeDelay:1e3,fadeDuration:500}}),h=new Pt({props:{src:"https://blurha.sh/assets/images/img3.jpg",hash:"L6Pj0^i_.AyE_3t7t7R**0o#DgR4",width:320,height:206,fadeDelay:1500,fadeDuration:500}}),f=new Pt({props:{src:"https://blurha.sh/assets/images/img4.jpg",hash:"LKO2?U%2Tw=w]~RBVZRi};RPxuwH",width:320,height:206,fadeDelay:2e3,fadeDuration:500}});return{c(){n=$("div"),W(c.$$.fragment),r=y(),W(l.$$.fragment),o=y(),W(h.$$.fragment),i=y(),W(f.$$.fragment),a=y(),s=$("div"),s.innerHTML='<a href="https://github.com/h416/svelte-blurhash/tree/master/example">source</a>'},m(t,e){g(t,n,e),K(c,n,null),p(n,r),K(l,n,null),p(n,o),K(h,n,null),p(n,i),K(f,n,null),g(t,a,e),g(t,s,e),u=!0},p:t,i(t){u||(q(c.$$.fragment,t),q(l.$$.fragment,t),q(h.$$.fragment,t),q(f.$$.fragment,t),u=!0)},o(t){J(c.$$.fragment,t),J(l.$$.fragment,t),J(h.$$.fragment,t),J(f.$$.fragment,t),u=!1},d(t){t&&m(n),Q(c),Q(l),Q(h),Q(f),t&&m(a),t&&m(s)}}}return new class extends et{constructor(t){super(),tt(this,t,null,Rt,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
